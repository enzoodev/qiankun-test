import{_ as Y,B as D,C as K,F as u,J as F,Z as be,a as Le,r as z,$ as Ve,a0 as xe,a1 as De,a2 as we,h as Ee,g as Me,i as ke,a3 as Ge,a4 as ue,n as Qe,a5 as $e,a6 as ze,w as te,x as se,z as ne,c as x,S as fe,E as m,m as ge,D as s,a7 as Z,H as e,G as H,M,O as q,Q as N,a8 as ye,N as Ie,a9 as Be,aa as ce,W as ae,t as je,v as Ke,X as Ze,y as He,A as Ye,K as me,U as We,V as ee}from"./index1734621655117.js";import{b as w,c as W,e as V,g as J,d as Je,h as j}from"./vee-validate1734621655117.js";import{u as Xe,c as eo,Q as pe,a as oo,r as ao,b as $,d as oe,L as to}from"./rowPerPageOptions1734621655117.js";import{a as ie,Q as R,u as B,t as so}from"./index17346216551174.js";import{i as Ue,a as no,f as io,b as k,u as lo}from"./unitService1734621655117.js";import{u as _e}from"./useGetInventoryStatus1734621655117.js";import{p as ro}from"./patrimonyService1734621655117.js";import{f as uo}from"./formatCurrency1734621655117.js";import{f as ve}from"./formatMandatoryItem1734621655117.js";const co={},mo={class:"flex column justify-start q-mt-lg"},po={class:"text-lg font-bold text-subtitle1 q-mb-sm"},vo={class:"flex row items-center"};function bo(a,n){return D(),K("div",mo,[u("span",po,F(a.$t("legend"))+":",1),u("div",vo,[n[0]||(n[0]=u("div",{class:"circle bg-red q-mr-sm"},null,-1)),u("span",null,F(a.$t("outOfUnityLegend")),1)])])}const fo=Y(co,[["render",bo],["__scopeId","data-v-03d24a1d"]]),go=()=>{const{isFetching:a,data:n}=ie({queryKey:[R.GET_ITEM_DESCRIPTIONS],queryFn:()=>Ue.getItemDescriptions(),staleTime:be.long,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1}),{filteredData:i,filterFn:b}=no(n,(o,l)=>o.toLowerCase().includes(l));return{descriptions:i,isFetchingItemDescriptions:a,filterDescriptionsFn:b}},yo=()=>{const{isFetching:a,data:n}=ie({queryKey:[R.GET_SITUATIONS],queryFn:async()=>{const i=await Ue.getSituations();return io(i)},staleTime:be.long,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1});return{situations:n,isFetchingSituations:a}},Io=()=>{const a=B(),{mutateAsync:n,isPending:i}=w({mutationFn:o=>k.saveSituation(o)});return{saveSituation:async o=>{await n(o),a.invalidateQueries({queryKey:[R.GET_PATRIMONY_UNIT_LIST]}),a.invalidateQueries({queryKey:[R.GET_PATRIMONY_COMMISSION_LIST]})},isPendingSaveSituation:i}};var E=(a=>(a.LOCALIZED="LOCALIZADO",a.NOT_LOCALIZED="NAO_LOCALIZADO",a.UNDEFINED="INDEFINIDO",a))(E||{});const Uo=a=>a?a.filter(n=>n.value!==E.UNDEFINED):[],he=Le({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(a,{slots:n,emit:i}){const b=ke(),o=z(null);let l=0;const p=[];function y(t){const v=typeof t=="boolean"?t:a.noErrorFocus!==!0,d=++l,P=(g,C)=>{i(`validation${g===!0?"Success":"Error"}`,C)},c=g=>{const C=g.validate();return typeof C.then=="function"?C.then(T=>({valid:T,comp:g}),T=>({valid:!1,comp:g,err:T})):Promise.resolve({valid:C,comp:g})};return(a.greedy===!0?Promise.all(p.map(c)).then(g=>g.filter(C=>C.valid!==!0)):p.reduce((g,C)=>g.then(()=>c(C).then(T=>{if(T.valid===!1)return Promise.reject(T)})),Promise.resolve()).catch(g=>[g])).then(g=>{if(g===void 0||g.length===0)return d===l&&P(!0),!0;if(d===l){const{comp:C,err:T}=g[0];if(P(!1,C),v===!0){const G=g.find(({comp:Q})=>typeof Q.focus=="function"&&Ge(Q.$)===!1);G!==void 0&&G.comp.focus()}}return!1})}function U(){l++,p.forEach(t=>{typeof t.resetValidation=="function"&&t.resetValidation()})}function I(t){t!==void 0&&ue(t);const v=l+1;y().then(d=>{v===l&&d===!0&&(a.onSubmit!==void 0?i("submit",t):t!==void 0&&t.target!==void 0&&typeof t.target.submit=="function"&&t.target.submit())})}function _(t){t!==void 0&&ue(t),i("reset"),Qe(()=>{U(),a.autofocus===!0&&a.noResetFocus!==!0&&f()})}function f(){$e(()=>{if(o.value===null)return;const t=o.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||o.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||o.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(o.value.querySelectorAll("[tabindex]"),v=>v.tabIndex!==-1);t!=null&&t.focus({preventScroll:!0})})}Ve(ze,{bindComponent(t){p.push(t)},unbindComponent(t){const v=p.indexOf(t);v!==-1&&p.splice(v,1)}});let r=!1;return xe(()=>{r=!0}),De(()=>{r===!0&&a.autofocus===!0&&f()}),we(()=>{a.autofocus===!0&&f()}),Object.assign(b.proxy,{validate:y,resetValidation:U,submit:I,reset:_,focus:f,getValidationComponents:()=>p}),()=>Ee("form",{class:"q-form",ref:o,onSubmit:I,onReset:_},Me(n.default))}}),_o=W().shape({sala:V().nullable(),observacao:V().nullable()}),ho=a=>{const n=B(),{mutateAsync:i,isPending:b}=w({mutationFn:t=>k.localizeItem(t)}),{handleSubmit:o,errors:l,resetForm:p,defineField:y}=J({validationSchema:_o});te(a,t=>{t&&p()});const U=o(async t=>{a.value&&(await i({...t,id:a.value.id,situacao:E.LOCALIZED,codUnidadeResponsavel:a.value.codUnidadeResponsavel,patrimonioForaUnidade:!1}),n.invalidateQueries({queryKey:[R.GET_PATRIMONY_UNIT_LIST]}))}),[I,_]=y("sala"),[f,r]=y("observacao");return{localizeItem:U,reset:()=>p(),errors:l,isPending:b,form:{room:I,observation:f,roomProps:_,observationProps:r}}},Co={class:"text-h6"},So={class:"q-pl-sm"},Oo={class:"flex justify-end q-mt-lg"},Po=se({__name:"localize-item-modal",props:{isOpenRef:{type:Boolean},itemRef:{},onClose:{type:Function},resetGetItemForm:{type:Function}},setup(a){const{t:n}=ne.global,i=x(()=>a.isOpenRef),b=x(()=>a.itemRef),{isPending:o,form:l,errors:p,localizeItem:y,reset:U}=ho(b),I=async()=>{await y(),a.onClose(),a.resetGetItemForm()},_=()=>{U(),a.onClose()};return(f,r)=>(D(),fe(ge,{modelValue:i.value,"onUpdate:modelValue":r[2]||(r[2]=t=>i.value=t)},{default:m(()=>[s(ye,{class:"q-pa-md q-dialog"},{default:m(()=>[s(Z,null,{default:m(()=>[u("div",Co,F(e(n)("realizeInventory")),1)]),_:1}),s(Z,null,{default:m(()=>[s(he,{novalidate:"",onSubmit:H(I,["prevent"]),class:"q-col-gutter-lg"},{default:m(()=>{var t;return[u("div",null,[u("span",null,[u("b",null,F(e(n)("materialItem"))+":",1)]),u("span",So,F((t=b.value)==null?void 0:t.descricaoItemMaterial),1)]),s(M,q({modelValue:e(l).room.value,"onUpdate:modelValue":r[0]||(r[0]=v=>e(l).room.value=v)},e(l).roomProps.value,{error:!!e(p).sala,"error-message":e(p).sala,"no-error-icon":"",dense:"",clearable:"","clear-icon":"close","emit-value":"","map-options":"",label:e(n)("room")}),null,16,["modelValue","error","error-message","label"]),s(M,q({modelValue:e(l).observation.value,"onUpdate:modelValue":r[1]||(r[1]=v=>e(l).observation.value=v)},e(l).observationProps.value,{error:!!e(p).observacao,"error-message":e(p).observacao,"no-error-icon":"",dense:"",clearable:"","clear-icon":"close","emit-value":"","map-options":"",maxlength:255,type:"textarea",outlined:"",counter:"",label:e(n)("observation")}),null,16,["modelValue","error","error-message","label"]),u("div",Oo,[s(N,{color:"grey-8",class:"q-mr-sm",onClick:_,label:e(n)("cancel")},null,8,["label"]),s(N,{type:"submit",color:"primary",label:e(n)("confirm"),loading:e(o)},null,8,["label","loading"])])]}),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),Fo=Y(Po,[["__scopeId","data-v-a58f8b85"]]),No=W().shape({sala:V().nullable(),observacao:V().nullable()}),To=a=>{const n=B(),{handleSubmit:i,errors:b,resetForm:o,defineField:l}=J({validationSchema:No,initialValues:{sala:a.value.room,observacao:a.value.observation}});te(a,t=>{o({values:{sala:t.room,observacao:t.observation}})});const{mutateAsync:p,isPending:y}=w({mutationFn:t=>k.saveObservation(t)}),U=i(async t=>{const v=await p({...t,idPatrimonio:a.value.id});Ie.create({message:v,color:"positive"}),n.invalidateQueries({queryKey:[R.GET_PATRIMONY_UNIT_LIST]})}),[I,_]=l("sala"),[f,r]=l("observacao");return{saveObservation:U,resetForm:o,errors:b,isPending:y,form:{room:I,observation:f,roomProps:_,observationProps:r}}},Ro={class:"text-h6"},Ao={class:"flex justify-end q-mt-lg"},qo=se({__name:"save-observation-modal",props:{isOpenRef:{type:Boolean},onClose:{type:Function},patrimony:{}},setup(a){const n=x(()=>a.isOpenRef),{t:i}=ne.global,{form:b,errors:o,isPending:l,resetForm:p,saveObservation:y}=To(x(()=>a.patrimony)),{inventoryPermissions:U}=_e(),I=()=>{p(),a.onClose()},_=async()=>{await y(),I()};return te(()=>n,f=>{f||p()}),(f,r)=>(D(),fe(ge,{modelValue:n.value,"onUpdate:modelValue":r[2]||(r[2]=t=>n.value=t)},{default:m(()=>[s(ye,{class:"q-pa-xs q-dialog"},{default:m(()=>[s(Z,null,{default:m(()=>[u("div",Ro,F(f.patrimony.observation?e(i)("updateObservation"):e(i)("createObservation")),1)]),_:1}),s(Z,null,{default:m(()=>[s(he,{novalidate:"",onSubmit:H(_,["prevent"]),class:"q-col-gutter-md"},{default:m(()=>[s(M,q({modelValue:e(b).room.value,"onUpdate:modelValue":r[0]||(r[0]=t=>e(b).room.value=t)},e(b).roomProps.value,{error:!!e(o).sala,"error-message":e(o).sala,"no-error-icon":"",dense:"",clearable:"","clear-icon":"close","emit-value":"","map-options":"",label:e(i)("room")}),null,16,["modelValue","error","error-message","label"]),s(M,q({modelValue:e(b).observation.value,"onUpdate:modelValue":r[1]||(r[1]=t=>e(b).observation.value=t)},e(b).observationProps.value,{error:!!e(o).observacao,"error-message":e(o).observacao,"no-error-icon":"",dense:"",clearable:"","clear-icon":"close","emit-value":"","map-options":"",maxlength:255,type:"textarea",outlined:"",counter:"",label:e(i)("observation")}),null,16,["modelValue","error","error-message","label"]),u("div",Ao,[s(N,{color:"grey-8",class:"q-mr-sm",onClick:I,label:e(i)("cancel")},null,8,["label"]),s(N,{type:"submit",color:"primary",label:e(i)("confirm"),loading:e(l),disable:!e(U).canSetData},null,8,["label","loading","disable"])])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),Lo=Y(qo,[["__scopeId","data-v-f2aaf407"]]),Vo=W().shape({patrimonyNumber:V().required("Campo ObrigatÃ³rio")}),xo=a=>{const n=a.replace(/\D/g,"");return Number(n)},Do=({isFromHomePage:a,unitCode:n,onSuccess:i})=>{const b=Be(),o=B(),{handleSubmit:l,errors:p,resetForm:y,defineField:U}=J({validationSchema:Vo}),I=w({mutationFn:c=>ro.getItemByPatrimonyNumber(c)}),_=w({mutationFn:c=>k.saveOtherSituation(c)}),f=w({mutationFn:c=>k.localizeItem(c)}),r=()=>{b.push({name:ae.UNIT_OTHER_SITUATIONS,params:{fromHome:a?"true":"false"}})},t={LOCALIZADO:async c=>{i(c)},LOCALIZADO_OUTRA_UNIDADE:async c=>{const A=`Item de cÃ³digo ${c.numeroPatrimonio} e descriÃ§Ã£o ${c.descricaoItemMaterial} estÃ¡ inventariado na Unidade Administrativa ${c.nomeUnidadeResponsavel} porÃ©m foi localizado na Unidade Administrativa ${c.nomeOutraUnidadeAdministrativa}`;Ie.create({message:A,color:"warning",timeout:12e3}),await Promise.all([f.mutateAsync({patrimonioForaUnidade:!0,situacao:"LOCALIZADO",codUnidadeResponsavel:n.value,id:c.id}),_.mutateAsync({codUnidadeResponsavel:n.value,situacao:"OUTRA_UNIDADE",descricao:c.descricaoItemMaterial,situacaoCadastroManual:!1,numeroPatrimonio:c.numeroPatrimonio})]),o.invalidateQueries({queryKey:[R.GET_PATRIMONY_UNIT_LIST]}),o.invalidateQueries({queryKey:[R.GET_PATRIMONY_OTHER_SITUATION_LIST]})},NAO_LOCALIZADO:async()=>{ce.create({title:"Item nÃ£o localizado",message:"PatrimÃ´nio nÃ£o localizado no sistema. Deseja relatar a ocorrÃªncia nas outras situaÃ§Ãµes?",ok:"Confirmar",cancel:"Cancelar"}).onOk(()=>{r()})},DUPLICADO:async c=>{ce.create({title:"CÃ³digo Duplicado",message:`CÃ³digo do patrimÃ´nio ${c.numeroPatrimonio} jÃ¡ consta como localizado. Deseja relatar a ocorrÃªncia nas outras situaÃ§Ãµes?`,ok:"Confirmar",cancel:"Cancelar"}).onOk(()=>{r()})}},v=l(async({patrimonyNumber:c})=>{const A=await I.mutateAsync({codUnidadeResponsavel:n.value,numeroPatrimonio:xo(c)});await t[A.situacaoPatrimonio](A)}),[d,P]=U("patrimonyNumber");return{getItemByPatrimonyNumber:v,resetGetItemForm:()=>y(),isPendingGetItem:I.isPending,getItemErrors:p,getItemForm:{patrimonyNumber:d,patrimonyNumberProps:P}}},wo=W().shape({situacao:V().nullable(),codUnidadeResponsavel:Je().required("Campo obrigatÃ³rio").typeError("CÃ³digo da Unidade ResponsÃ¡vel deve ser um nÃºmero"),nomeUnidadeResponsavel:V().test("unit-code-or-name","Preencha o CÃ³digo ou o Nome da Unidade ResponsÃ¡vel",function(a){const{codUnidadeResponsavel:n}=this.parent;return a?!!n:!0}),descricaoItemMaterial:V().nullable()}),Eo=je("useGetUnitPatrimonyListStore",()=>{const a=Xe(),{handleSubmit:n,errors:i,resetForm:b,defineField:o,setFieldValue:l}=J({validationSchema:wo,initialValues:a.data.value}),[p,y]=o("situacao"),[U,I]=o("codUnidadeResponsavel"),[_,f]=o("nomeUnidadeResponsavel"),[r,t]=o("descricaoItemMaterial"),v=()=>{l("nomeUnidadeResponsavel",void 0)},d=c=>{l("codUnidadeResponsavel",c)},P=n(c=>{a.setFormData(c)});return{search:a,errors:i,status:p,responsibleUnitCode:U,responsibleUnitName:_,description:r,statusProps:y,responsibleUnitCodeProps:I,responsibleUnitNameProps:f,descriptionProps:t,onSubmit:P,resetForm:b,onChangeUnitCode:v,onChangeUnitName:d}}),Mo=()=>{const{invalidateQueries:a}=B(),n=Eo(),{search:i,onSubmit:b,resetForm:o,onChangeUnitCode:l,onChangeUnitName:p}=n,{errors:y,status:U,responsibleUnitCode:I,responsibleUnitName:_,description:f,statusProps:r,responsibleUnitCodeProps:t,responsibleUnitNameProps:v,descriptionProps:d}=Ke(n),P=x(()=>({...i.data,nomeUnidadeResponsavel:void 0,page:i.pagination.page,rowsPerPage:i.pagination.rowsPerPage})),{data:c,isFetching:A}=ie({enabled:x(()=>P.value.codUnidadeResponsavel!==void 0),queryKey:[R.GET_PATRIMONY_UNIT_LIST,P],queryFn:async()=>{const C=await k.getAll(P.value);return i.setRowsNumber(C.total),C}}),g=()=>{o(),i.reset(),a({queryKey:[R.GET_PATRIMONY_UNIT_LIST],exact:!0})};return{data:c,isFetching:A,pagination:i.pagination,setPagination:i.setPagination,onSubmit:b,reset:g,errors:y,form:{status:U,responsibleUnitCode:I,responsibleUnitName:_,description:f,statusProps:r,responsibleUnitCodeProps:t,responsibleUnitNameProps:v,descriptionProps:d,onChangeUnitCode:l,onChangeUnitName:p}}},ko={class:"row q-col-gutter-md q-mt-sm"},Go={class:"col-lg-3 col-sm-4 col-xs-12"},Qo={class:"col-lg-6 col-sm-8 col-xs-12"},$o={class:"col-lg-3 col-sm-4 col-xs-12"},zo={class:"row q-col-gutter-md q-mt-sm"},Bo={class:"col-12"},jo={class:"flex justify-end q-mt-lg"},Ko={class:"bg-white full-width q-pa-md"},Zo={class:"row q-col-gutter-md"},Ho={class:"col-lg-3 col-sm-4 col-xs-12"},Yo={class:"flex justify-end q-mt-lg"},Wo={class:"q-mt-lg"},Jo={key:0,class:"circle bg-red"},Xo={style:{overflow:"hidden","white-space":"collapse","text-overflow":"ellipsis"}},ea={style:{overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis"}},oa={class:"q-gutter-xs"},aa={class:"full-width row flex-center text-grey-7"},ta=["textContent"],sa={class:"flex justify-end q-mt-lg"},na=se({__name:"unit",props:{isFromHomePage:{type:Boolean}},setup(a){const n=He(),{title:i,subtitle:b}=n.meta,{t:o}=ne.global,l=z(!1),p=z(!1),y=z({id:0,room:"",observation:""}),U=z(),I=L=>{U.value=L,p.value=!0},{inventoryPermissions:_}=_e(),{data:f,isFetching:r,pagination:t,errors:v,form:d,setPagination:P,onSubmit:c,reset:A}=Mo(),{responsibleUnities:g,isFetchingResponsibleUnities:C,filterResponsibleUnitiesFn:T}=lo(),{situations:G,isFetchingSituations:Q}=yo(),{descriptions:Ce,isFetchingItemDescriptions:Se,filterDescriptionsFn:Oe}=go(),{saveSituation:Pe}=Io(),{getItemForm:X,isPendingGetItem:Fe,getItemErrors:le,getItemByPatrimonyNumber:re,resetGetItemForm:de}=Do({isFromHomePage:a.isFromHomePage,unitCode:x(()=>d.responsibleUnitCode.value),onSuccess:I}),Ne=L=>{y.value={id:L.id,room:L.sala,observation:L.observacao},l.value=!0},Te=eo([{key:"situacao",label:o("situation")},{key:"patrimonioForaUnidade",label:o("outOfUnity")},{key:"codUnidadeResponsavel",label:o("responsibleUnityCodeLabel")},{key:"nomeUnidadeResponsavel",label:o("responsibleUnity")},{key:"numeroPatrimonio",label:o("patrimonyNumberLabel")},{key:"descricaoItemMaterial",label:o("materialItem")},{key:"valorBemPatrimonial",label:o("patrimonyValue"),fn:uo},{key:"acao",label:o("action")}]),Re=[{header:0,title:o("search"),havePermission:!0,expandItem:!0}];return(L,S)=>{const Ae=Ye("router-link");return D(),K(Ze,null,[s(e(so),{container:Re,title:e(i),"sub-title":e(b)},{section0:m(()=>[u("div",null,[u("form",{novalidate:"",onSubmit:S[4]||(S[4]=H((...O)=>e(c)&&e(c)(...O),["prevent"]))},[u("div",ko,[u("div",Go,[s(M,q({modelValue:e(d).responsibleUnitCode.value,"onUpdate:modelValue":S[0]||(S[0]=O=>e(d).responsibleUnitCode.value=O)},e(d).responsibleUnitCodeProps.value,{error:!!e(v).codUnidadeResponsavel,"error-message":e(v).codUnidadeResponsavel,"no-error-icon":"",dense:"",clearable:"","clear-icon":"close","emit-value":"","map-options":"",label:e(ve)(e(o)("responsibleUnityCodeLabel")),type:"number"}),null,16,["modelValue","error","error-message","label"])]),u("div",Qo,[s(j,q({modelValue:e(d).responsibleUnitName.value,"onUpdate:modelValue":S[1]||(S[1]=O=>e(d).responsibleUnitName.value=O)},e(d).responsibleUnitNameProps.value,{options:e(g),error:!!e(v).nomeUnidadeResponsavel,"error-message":e(v).nomeUnidadeResponsavel,loading:e(C),disable:!!e(d).responsibleUnitCode.value,dense:"","map-options":"","emit-value":"",clearable:"","clear-icon":"close","use-input":"","input-debounce":0,onFilter:e(T),label:e(o)("responsibleUnity"),"option-value":"codUnidadeResponsavel","option-label":"nomeUnidadeResponsavel","onUpdate:modelValue":e(d).onChangeUnitName}),null,16,["modelValue","options","error","error-message","loading","disable","onFilter","label","onUpdate:modelValue"])]),u("div",$o,[s(j,q({modelValue:e(d).status.value,"onUpdate:modelValue":S[2]||(S[2]=O=>e(d).status.value=O)},e(d).statusProps.value,{options:e(G),error:!!e(v).situacao,"error-message":e(v).situacao,loading:e(Q),disable:!e(d).responsibleUnitCode.value,dense:"","map-options":"","emit-value":"",clearable:"","clear-icon":"close",label:e(o)("situation")}),null,16,["modelValue","options","error","error-message","loading","disable","label"])])]),u("div",zo,[u("div",Bo,[s(j,q({modelValue:e(d).description.value,"onUpdate:modelValue":S[3]||(S[3]=O=>e(d).description.value=O)},e(d).descriptionProps.value,{options:e(Ce),error:!!e(v).descricaoItemMaterial,"error-message":e(v).descricaoItemMaterial,loading:e(Se),disable:!e(d).responsibleUnitCode.value,dense:"","map-options":"","emit-value":"",clearable:"","clear-icon":"close","use-input":"","input-debounce":0,onFilter:e(Oe),label:e(o)("materialItem")}),null,16,["modelValue","options","error","error-message","loading","disable","onFilter","label"])])]),u("div",jo,[s(N,{label:e(o)("clear"),class:"q-mr-sm",color:"grey-8",onClick:e(A)},null,8,["label","onClick"]),s(N,{disable:!e(d).responsibleUnitCode.value,label:e(o)("search"),loading:e(r),color:"primary",icon:"search",type:"submit"},null,8,["disable","label","loading"])])],32),e(_).canSetData?(D(),K("form",{key:0,novalidate:"",onSubmit:S[6]||(S[6]=H((...O)=>e(re)&&e(re)(...O),["prevent"]))},[s(pe,{class:"bg-grey-3 rounded-borders shadow-1 full-width q-mt-lg","default-opened":"",label:e(o)("findItem")},{default:m(()=>[u("div",Ko,[u("div",Zo,[u("div",Ho,[s(M,q({modelValue:e(X).patrimonyNumber.value,"onUpdate:modelValue":S[5]||(S[5]=O=>e(X).patrimonyNumber.value=O)},e(X).patrimonyNumberProps.value,{error:!!e(le).patrimonyNumber,"error-message":e(le).patrimonyNumber,disable:!e(d).responsibleUnitCode.value,"no-error-icon":"",dense:"",clearable:"","clear-icon":"close","emit-value":"","map-options":"",label:e(ve)(e(o)("patrimonyNumber"))}),null,16,["modelValue","error","error-message","disable","label"])])])])]),_:1},8,["label"]),u("div",Yo,[s(N,{label:e(o)("clear"),class:"q-mr-sm",color:"grey-8",onClick:e(de)},null,8,["label","onClick"]),s(N,{disable:!e(d).responsibleUnitCode.value,loading:e(Fe),label:e(o)("findItem"),icon:"search",color:"primary",type:"submit"},null,8,["disable","loading","label"])])],32)):me("",!0),u("div",Wo,[s(pe,{class:"bg-grey-3 rounded-borders shadow-1","default-opened":"",label:e(o)("listing")},{default:m(()=>{var O;return[s(oo,{columns:e(Te),rows:((O=e(f))==null?void 0:O.list)??[],"rows-per-page-options":e(ao),class:"shadow-0","row-key":"id",loading:e(r),"hide-no-data":e(r),pagination:e(t),onRequest:S[7]||(S[7]=h=>e(P)(h.pagination)),"onUpdate:pagination":e(P)},{"body-cell-situacao":m(({row:h})=>[s($,{style:{"min-width":"13rem"}},{default:m(()=>[s(j,{options:e(Uo)(e(G)),"model-value":h.situacao,"onUpdate:modelValue":qe=>e(Pe)({id:h.id,situacao:qe}),loading:e(Q)||e(r),disable:!e(_).canSetData||h.situacao===e(E).LOCALIZED,dense:"","map-options":"","emit-value":"",clearable:"","hide-bottom-space":"","clear-icon":"close",label:e(o)("situation"),class:We({"q-pl-sm":!0,"bg-foundedItem":h.situacao===e(E).LOCALIZED,"bg-notFoundedItem":h.situacao===e(E).NOT_LOCALIZED})},null,8,["options","model-value","onUpdate:modelValue","loading","disable","label","class"])]),_:2},1024)]),"body-cell-patrimonioForaUnidade":m(h=>[s($,{style:{"text-align":"center"}},{default:m(()=>[h.row.patrimonioForaUnidade?(D(),K("div",Jo)):me("",!0)]),_:2},1024)]),"body-cell-nomeUnidadeResponsavel":m(({row:h})=>[s($,{style:{width:"31rem"}},{default:m(()=>[u("div",Xo,F(h.nomeUnidadeResponsavel),1)]),_:2},1024)]),"body-cell-descricaoItemMaterial":m(({row:h})=>[s($,{style:{"max-width":"31rem"}},{default:m(()=>[u("div",ea,F(h.descricaoItemMaterial),1),s(oe,{style:{width:"25rem"}},{default:m(()=>[ee(F(h.descricaoItemMaterial),1)]),_:2},1024)]),_:2},1024)]),"body-cell-acao":m(({row:h})=>[s($,null,{default:m(()=>[u("div",oa,[s(N,{color:"grey-8",flat:"",icon:"fa fa-eye",round:"",size:"sm",onClick:()=>L.$router.push({name:e(ae).VIEW_ITEM,params:{id:h.id}})},{default:m(()=>[s(oe,null,{default:m(()=>[ee(F(e(o)("view")),1)]),_:1})]),_:2},1032,["onClick"]),s(N,{color:h.observacao||h.sala?"primary":"grey-8",flat:"",icon:"fa fa-clipboard",round:"",size:"sm",onClick:()=>Ne(h)},{default:m(()=>[s(oe,null,{default:m(()=>[ee(F(e(o)("updateObservation")),1)]),_:1})]),_:2},1032,["color","onClick"])])]),_:2},1024)]),loading:m(()=>[s(to)]),"no-data":m(()=>[u("div",aa,[u("span",{textContent:F(e(d).responsibleUnitCode.value?e(o)("noRecordsFound"):e(o)("putObrigatoryFieldsToFind"))},null,8,ta)])]),_:1},8,["columns","rows","rows-per-page-options","loading","hide-no-data","pagination","onUpdate:pagination"])]}),_:1},8,["label"]),s(fo),u("div",sa,[s(Ae,{to:{name:e(ae).UNIT_OTHER_SITUATIONS,params:{fromHome:L.isFromHomePage?"true":"false"}}},{default:m(()=>[s(N,{color:"primary",label:e(o)("otherSituations")},null,8,["label"])]),_:1},8,["to"])])])])]),_:1},8,["title","sub-title"]),s(Lo,{"is-open-ref":l.value,"on-close":()=>l.value=!1,patrimony:y.value},null,8,["is-open-ref","on-close","patrimony"]),s(Fo,{"is-open-ref":p.value,"item-ref":U.value,"on-close":()=>p.value=!1,"reset-get-item-form":e(de)},null,8,["is-open-ref","item-ref","on-close","reset-get-item-form"])],64)}}}),ia=Y(na,[["__scopeId","data-v-1f197055"]]),fa=Object.freeze(Object.defineProperty({__proto__:null,default:ia},Symbol.toStringTag,{value:"Module"}));export{fo as L,E as S,ia as U,yo as a,go as b,fa as c,Uo as r,Io as u};

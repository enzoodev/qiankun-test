import{d as T,i as Q,r as S,o as x,a as c,w as e,u as t,b as I,Y as k,C as q,e as m,D as f,Q as p,f as o,p as A,g,t as N,E as R}from"./index1734620864360.js";import{Q as B}from"./QForm1734620864360.js";import{b as P,a as $,Q as L}from"./q-table-column.builder1734620864360.js";import{c as j,J as z}from"./index17346208643602.js";import{d as a}from"./endoresement.data1734620864360.js";import{_ as M}from"./header-component.vue_vue_type_style_index_0_lang1734620864360.js";const J=["textContent"],O={class:"row q-my-md"},W=T({__name:"view-endorsement",setup(V){const C=I(),{sub_title:y,title:E}=C.meta,{t:s}=Q.global,_=S([]),i=S(""),b=[{header:0,title:s("message.search"),havePermission:!0,expandItem:!0}],w=new P().create_column("descricao",s("message.endorsementType")).build(!0);async function d(){const r=await a.getEndoresementList();_.value=r}async function D(r){a.confirmDialog(()=>a.deleteEndoresement(r).then(()=>d()))}return x(async()=>{await d()}),(r,l)=>{const v=k("tooltip"),u=q("permission");return m(),c(t(z),{container:b,title:t(E),"sub-title":t(y)},{"right-top":e(()=>[f((m(),c(p,{class:"q-mr-xs",color:"primary",type:"submit",onClick:l[0]||(l[0]=n=>t(a).go_to("CREATE_ENDORESEMENT"))},{default:e(()=>[o(A,{name:"fa-solid fa-plus",left:"",size:"xs"}),g("span",{textContent:N(t(s)("message.new"))},null,8,J)]),_:1})),[[u,{project:"SCSDP",functionality:"SIS",verify:["CADSIS"]}]])]),section0:e(()=>[o(B,null,{default:e(()=>[g("div",O,[o(j,{input:{field:i.value,nome:t(s)("message.endorsementType"),obrigatorio:!1},event:i.value,"onUpdate:event":l[1]||(l[1]=n=>i.value=n),debounce:"300",borderless:""},null,8,["input","event"])])]),_:1}),o(M,{class:"q-mx-md",title:"Listagem"},{slot:e(()=>[o(R,null,{default:e(()=>[o($,{columns:t(w),rows:_.value,"rows-per-page-options":[5,10,15,20,25,50],class:"shadow-0",filter:i.value,onRequest:d},{"body-cell-action":e(({row:{valor:n}})=>[o(L,{key:"action","auto-width":""},{default:e(()=>[f((m(),c(p,{ref:"q-btn_edit_endoresement",color:"grey-8",flat:"",round:"",size:"sm",icon:"fa-solid fa-pen",onClick:h=>t(a).go_to("CREATE_ENDORESEMENT",{id:n})},{default:e(()=>[o(v,{data:t(s)("message.change")},null,8,["data"])]),_:2},1032,["onClick"])),[[u,{project:"SCSDP",functionality:"SIS",verify:["ALTSIS"]}]]),f((m(),c(p,{ref:"q-btn_delete_endoresement",color:"grey-8",flat:"",icon:"fa-solid fa-trash",round:"",size:"sm",onClick:h=>D(n)},{default:e(()=>[o(v,{data:t(s)("message.remove")},null,8,["data"])]),_:2},1032,["onClick"])),[[u,{project:"SCSDP",functionality:"SIS",verify:["CADSIS","ALTSIS"]}]])]),_:2},1024)]),_:1},8,["columns","rows","filter"])]),_:1})]),_:1})]),_:1},8,["title","sub-title"])}}});export{W as default};

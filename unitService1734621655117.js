import{r as p,Z as d}from"./index1734621655117.js";import{B as c,a as h,Q as v}from"./index17346216551174.js";import{a}from"./auditProject1734621655117.js";class f{constructor(e){this.api=e}async getResponsibleUnities(){return this.api.override_url("unidade-responsavel"),(await this.api.find_all()).dados}async getSituations(){return this.api.override_url("situacoes"),(await this.api.find_all()).dados}async getOtherSituations(){return this.api.override_url("outras-situacoes"),(await this.api.find_all()).dados}async getItemDescriptions(){return this.api.override_url("descricao-item-material"),(await this.api.find_all()).dados}async getStatus(){return this.api.override_url("status-inventario"),(await this.api.find_all()).dados}}const m=new f(new c("https://dev.gerais.mg.def.br","patrimonio/service".concat("/controle-inventario")));function y(t,e){const s=p([]);return{filteredData:s,filterFn:(i,n)=>{if(i===""){n(()=>{s.value=t.value??[]});return}n(()=>{var o;const u=i.toLowerCase();s.value=((o=t.value)==null?void 0:o.filter(l=>e(l,u)))??[]})}}}const b=()=>{const{isFetching:t,data:e}=h({queryKey:[v.GET_RESPONSIBLE_UNITIES],queryFn:()=>m.getResponsibleUnities(),staleTime:d.long,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1}),{filteredData:s,filterFn:r}=y(e,(i,n)=>i.nomeUnidadeResponsavel.toLowerCase().includes(n));return{responsibleUnities:s,isFetchingResponsibleUnities:t,filterResponsibleUnitiesFn:r}},O=t=>Object.entries(t).map(([e,s])=>({label:s,value:e}));class _{constructor(e){this.api=e}async getAll({page:e,rowsPerPage:s,...r}){this.api.override_url("pesquisar",`${e}-${s}`);const i=await this.api.find_all({params:r});return{list:i.dados.dados,total:i.dados.totalRegistros}}async saveObservation(e){return this.api.override_url("atualizar-observacao"),(await this.api.update({...e,auditProject:a})).mensagem}async saveSituation(e){this.api.override_url("atualizar-situacao"),await this.api.update({...e,auditProject:a})}async saveOtherSituation(e){return this.api.override_url("outras-situacoes"),(await this.api.save({...e,auditProject:a})).mensagem}async updateOtherSituation({id:e,...s}){return this.api.override_url("outras-situacoes",e),(await this.api.update({...s,auditProject:a})).mensagem}async deleteOtherSituation(e){return this.api.override_url("outras-situacoes",e,"delete"),(await this.api.update({auditProject:a})).mensagem}async localizeItem(e){this.api.override_url("realizar-inventario"),await this.api.update({...e,auditProject:a})}}const F=new _(new c("https://dev.gerais.mg.def.br","patrimonio/service".concat("/unidade")));export{y as a,F as b,O as f,m as i,b as u};
